<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- TI√äU ƒê·ªÄ ƒê√É ƒê∆Ø·ª¢C CH·ªàNH S·ª¨A CH√çNH X√ÅC THEO Y√äU C·∫¶U -->
    <title>MINI GAME 20/10/25 - S1</title>
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i Confetti Library cho hi·ªáu ·ª©ng ho√†n th√†nh game -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* Thi·∫øt l·∫≠p font Inter m·∫∑c ƒë·ªãnh */
        body {
            font-family: 'Inter', sans-serif;
            /* 1. N·ªÅn Gradient ƒê·ªông */
            background: linear-gradient(135deg, #ffe5ec, #e0c3fc, #8ec5fc);
            background-size: 400% 400%;
            animation: gradientShift 12s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* C·∫≠p nh·∫≠t (1a) - Hi·ªáu ·ª©ng n·ªïi cho ti√™u ƒë·ªÅ */
        @keyframes floatTitle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
        }
        .floating-title { 
            animation: floatTitle 3s ease-in-out infinite; 
        }

        /* G·ª£i √Ω - Th√™m b√≥ng ƒë·ªï ƒë·ªông (ki·ªÉu neon) cho ti√™u ƒë·ªÅ */
        .h1-fancy {
            background: linear-gradient(90deg, #ec4899, #8b5cf6);
            -webkit-background-clip: text;
            color: transparent;
            animation: shimmer 3s infinite linear;
            background-size: 200% auto;
            border: none;
            text-shadow: 0 0 15px rgba(236, 72, 153, 0.7); /* B√≥ng ƒë·ªï neon h·ªìng */
        }

        @keyframes shimmer {
          0% { background-position: 0% center; }
          100% { background-position: 200% center; }
        }

        /* 2. Hi·ªáu ·ª©ng xu·∫•t hi·ªán (animation) khi ƒë·ªïi c√¢u h·ªèi */
        @keyframes cardAppear {
          from {
            opacity: 0;
            transform: scale(0.98) rotate(0.5deg);
          }
          to {
            opacity: 1;
            transform: scale(1) rotate(0);
          }
        }
        
        .card-animate {
            animation: cardAppear 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* D√πng cubic-bezier cho m∆∞·ª£t */
        }

        /* 3. Micro-interactions: Glassmorphism cho Card */
        #quizCard {
            backdrop-filter: blur(15px);
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.3); /* Vi·ªÅn m·ªèng cho glass */
            /* C·∫≠p nh·∫≠t hover effect */
            transition: all 0.3s cubic-bezier(0.2, 0.5, 0.4, 1);
            /* G·ª£i √Ω - B√≥ng ƒë·ªï s√¢u h∆°n cho card */
            box-shadow: 0 15px 35px rgba(255,105,180,0.5); 
            border-radius: 1.5rem; /* Bo tr√≤n s√¢u h∆°n */
        }
        
        /* Hi·ªáu ·ª©ng l·∫≠t card (Th√™m theo g·ª£i √Ω) */
        .card-flipped {
            transform: rotateY(180deg) scale(1.02);
        }
        
        #quizCard:hover {
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.4); /* Glow shadow h·ªìng */
            transform: scale(1.02) translateY(-2px);
        }

        /* 3. Micro-interactions: Answer Fade Up */
        @keyframes fadeUp {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        #answerSection.visible {
          animation: fadeUp 0.4s ease-out;
        }

        /* 4. N√∫t ƒëi·ªÅu h∆∞·ªõng "x·ªãn" (Glow effect) */
        button:hover svg {
          filter: drop-shadow(0 0 8px rgba(236, 72, 153, 0.8)); /* M√†u h·ªìng t√≠m nh·∫°t glow */
          transform: scale(1.1);
          transition: all 0.2s ease;
        }
        
        /* ·ª®ng d·ª•ng ki·ªÉu ch·ªØ ƒë·∫∑c bi·ªát cho th√¥ng ƒëi·ªáp 20/10 */
        .celebration-text {
            background-size: 200% auto;
        }
        .celebration-text:hover {
            animation-play-state: running;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Ti√™u ƒë·ªÅ ch√≠nh (Kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi th·∫ª <title>) -->
    <h1 class="text-5xl sm:text-6xl font-extrabold text-center mt-8 mb-12 p-3 rounded-xl shadow-lg h1-fancy floating-title">
        MINI GAME 20/10/25 - S1
    </h1>
    
    <!-- Thanh ti·∫øn tr√¨nh (G·ª£i √Ω UX) -->
    <div id="progressBar" class="h-2 w-full max-w-2xl bg-pink-100 rounded-full overflow-hidden mb-6 hidden">
        <div id="progressFill" class="h-2 bg-pink-500 w-0 transition-all duration-500 ease-in-out"></div>
    </div>


    <div class="flex items-center justify-center w-full max-w-5xl">
        <!-- N√∫t chuy·ªÉn c√¢u h·ªèi tr√°i (Desktop) -->
        <button id="prevBtn" class="p-3 mx-2 hidden sm:block text-gray-700 hover:text-pink-500 disabled:opacity-30 transition duration-150" aria-label="C√¢u h·ªèi tr∆∞·ªõc">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
        </button>

        <!-- Th·∫ª C√¢u h·ªèi/Tr·∫£ l·ªùi L·ªõn (Glassmorphism + Animation) -->
        <div id="quizCard" class="card-animate rounded-[1.5rem] shadow-2xl w-full mx-auto cursor-pointer border-4 border-pink-400 hover:shadow-pink-300 transform transition-all duration-300 p-6 sm:p-10" onclick="toggleAnswer()">
            <div id="contentContainer">
                
                <p id="mainText" class="text-xl sm:text-2xl font-bold text-gray-800 text-center leading-relaxed"></p>
                <div id="answerSection" class="mt-4 pt-4 border-t border-dashed border-gray-300 hidden">
                    <p class="text-lg sm:text-xl font-semibold text-gray-700 mb-2">ƒê√°p √°n:</p>
                    <p id="answerText" class="text-lg sm:text-xl font-extrabold text-pink-600 text-center"></p>
                </div>
            </div>
        </div>

        <!-- N√∫t chuy·ªÉn c√¢u h·ªèi ph·∫£i (Desktop) -->
        <button id="nextBtn" class="p-3 mx-2 text-pink-500 hover:text-pink-700 disabled:opacity-30 transition duration-150" aria-label="C√¢u h·ªèi ti·∫øp theo">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
        </button>
    </div>
    
    <!-- C√°c n√∫t ƒëi·ªÅu h∆∞·ªõng cho mobile (n·∫±m d∆∞·ªõi) -->
    <div class="flex sm:hidden mt-6">
        <button id="prevBtnMobile" class="p-3 mx-2 text-gray-700 hover:text-pink-500 disabled:opacity-30 transition duration-150" aria-label="C√¢u h·ªèi tr∆∞·ªõc">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                 <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
        </button>
        <button id="nextBtnMobile" class="p-3 mx-2 text-pink-500 hover:text-pink-700 disabled:opacity-30 transition duration-150" aria-label="C√¢u h·ªèi ti·∫øp theo">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
        </button>
    </div>

    <!-- H·∫øt game th√¥ng b√°o (C·∫≠p nh·∫≠t th√¥ng ƒëi·ªáp 20/10) -->
    <div id="completionMessage" class="hidden mt-8 text-center bg-white/70 p-6 rounded-2xl border border-pink-300 shadow-xl">
        <p class="text-3xl font-extrabold mb-4 celebration-text bg-gradient-to-r from-pink-400 via-fuchsia-500 to-purple-500 bg-clip-text text-transparent animate-pulse">
            üíê Ch√∫c m·ª´ng Ph·ª• n·ªØ Vi·ªát Nam 20/10 üíê
        </p>
        <p class="text-xl font-semibold text-gray-800 mb-6">To√†n th·ªÉ anh em S1 ch√∫c c√°c ch·ªã em ng√†y c√†ng xinh, c√†ng gi√†u!</p>
        <button id="restartBtn" class="mt-4 px-6 py-2 bg-pink-500 text-white font-semibold rounded-lg shadow-xl hover:bg-pink-600 transition duration-200 transform hover:scale-[1.05]">
            Ch∆°i l·∫°i t·ª´ ƒë·∫ßu
        </button>
    </div>


    <script>
        // D·ªØ li·ªáu b·ªô c√¢u h·ªèi v√† tr·∫£ l·ªùi
        const quizData = [
            {
                question: "Ng√†y n√†o ph√°i y·∫øu ƒë·ªÅ cao. Ng√†y n√†o ph√°i m·∫°nh ph·∫£i v√†o n·∫•u c∆°m. Ng√†y n√†o ph√°i y·∫øu l√† h∆°n. Ng√†y n√†o ph√°i m·∫°nh ph·∫£i lu√¥n n·ªãnh b√†?",
                answer: "L√† ng√†y m√πng 8 th√°ng 3, th√™m ng√†y ph·ª• n·ªØ 20 th√°ng 10."
            },
            {
                question: "C√≥ m·ªôt t√†u ƒëi·ªán ƒëi v·ªÅ h∆∞·ªõng nam. Gi√≥ h∆∞·ªõng t√¢y b·∫Øc. V·∫≠y kh√≥i t·ª´ con t√†u s·∫Ω theo h∆∞·ªõng n√†o?",
                answer: "T√†u ƒëi·ªán th√¨ l√†m g√¨ c√≥ kh√≥i."
            },
            {
                question: "M·ªôt anh ch√†ng h·ªèi t√™n m·ªôt c√¥ g√°i. C√¥ g√°i n√≥i t√™n c·ªßa c√¥ c≈©ng gi·ªëng nh∆∞ 12 b·∫Øp ng√¥ trong gi·ªè ng√¥ n√†y, v·∫≠y t√™n c√¥ g√°i l√† g√¨?",
                answer: "12 = M·ªôt t√°; T√° Ng√¥ = T·ªë Nga. C√¥ g√°i t√™n T·ªë Nga."
            },
            {
                question: "C√¢u n√†y nghƒ©a l√† g√¨: 1‚Ä≤ => 4 = 1505",
                answer: "1 ph√∫t suy t∆∞ b·∫±ng 1 nƒÉm kh√¥ng ng·ªß."
            },
            {
                question: "C√≥ 2 ng∆∞·ªùi: 1 l·ªõn, 1 b√© ƒëi l√™n ƒë·ªânh m·ªôt qu·∫£ n√∫i. Ng∆∞·ªùi b√© l√† con c·ªßa ng∆∞·ªùi l·ªõn, nh∆∞ng ng∆∞·ªùi l·ªõn l·∫°i kh√¥ng ph·∫£i cha c·ªßa ng∆∞·ªùi b√©, h·ªèi ng∆∞·ªùi l·ªõn l√† ai?",
                answer: "M·∫π."
            },
            {
                question: "T·∫°i sao khi b·∫Øn s√∫ng ng∆∞·ªùi ta l·∫°i nh·∫Øm m·ªôt m·∫Øt?",
                answer: "Nh·∫Øm 2 m·∫Øt th√¨ s·∫Ω kh√¥ng th·∫•y ƒë∆∞·ªùng ƒë·ªÉ b·∫Øn."
            },
            {
                question: "Lo·∫°i n∆∞·ªõc gi·∫£i kh√°t n√†o ch·ª©a s·∫Øt v√† canxi?",
                answer: "Cafe (ca: canxi, Fe: s·∫Øt)."
            },
            {
                question: "Trong 12 con gi√°p, con g√¨ n·ªïi ti·∫øng nh·ªù ph·ª• n·ªØ?",
                answer: "Con d√™"
            },
            {
                question: "M·ªôt ly thu·ª∑ tinh ƒë·ª±ng ƒë·∫ßy n∆∞·ªõc, l√†m th·∫ø n√†o ƒë·ªÉ l·∫•y n∆∞·ªõc d∆∞·ªõi ƒë√°y ly m√† kh√¥ng ƒë·ªï n∆∞·ªõc ra ngo√†i?",
                answer: "D√πng ·ªëng h√∫t."
            },
            {
                question: "C√°i g√¨ ƒë√°nh cha, ƒë√°nh m√°, ƒë√°nh anh, ƒë√°nh ch·ªã, ƒë√°nh em?",
                answer: "B√†n ch·∫£i ƒë√°nh rƒÉng."
            },
            {
                question: "N·∫øu ch·ªâ c√≥ m·ªôt que di√™m, trong m·ªôt ng√†y m√πa ƒë√¥ng gi√° r√©t, b·∫°n b∆∞·ªõc v√†o cƒÉn ph√≤ng c√≥ m·ªôt c√¢y ƒë√®n, m·ªôt b·∫øp d·∫ßu, v√† m·ªôt b·∫øp c·ªßi, b·∫°n th·∫Øp g√¨ tr∆∞·ªõc ti√™n?",
                answer: "Que di√™m."
            },
            {
                question: "C√°i g√¨ tay tr√°i c·∫ßm ƒë∆∞·ª£c c√≤n tay ph·∫£i c·∫ßm kh√¥ng ƒë∆∞·ª£c?",
                answer: "Tay ph·∫£i."
            },
            {
                question: "C√°i g√¨ ph·ª• n·ªØ th√≠ch c·∫ßm nh·∫•t c·ªßa ƒë√†n √¥ng ?",
                answer: "Ti·ªÅn l∆∞∆°ng c·ªßa ch·ªìng"
            },
            {
                question: "M·ªôt k·∫ª gi·∫øt ng∆∞·ªùi b·ªã k·∫øt √°n t·ª≠ h√¨nh. H·∫Øn ta ph·∫£i ch·ªçn m·ªôt trong ba cƒÉn ph√≤ng: Ph√≤ng th·ª© nh·∫•t l·ª≠a ch√°y d·ªØ d·ªôi, Ph√≤ng th·ª© hai ƒë·∫ßy nh·ªØng k·∫ª √°m s√°t ƒëang gi∆∞∆°ng s√∫ng, v√† ph√≤ng th·ª© ba ƒë·∫ßy s∆∞ t·ª≠ nh·ªãn ƒë√≥i trong ba nƒÉm. Ph√≤ng n√†o an to√†n nh·∫•t cho h·∫Øn?",
                answer: "Ph√≤ng 3 v√¨ s∆∞ t·ª≠ ch·∫øt h·∫øt v√¨ ƒë√≥i r·ªìi."
            },
            {
                question: "C√°i g√¨ Adam c√≥ 2 m√† Eva ch·ªâ c√≥ 1?",
                answer: "Ch·ªØ ‚ÄúA‚Äù"
            },
            {
                question: "Qu·ªëc gia n√†o tr√™n th·∫ø gi·ªõi kh√¥ng c√≥ ch·ªã em ph·ª• n·ªØ?",
                answer: "N∆∞·ªõc Anh."
            },
            {
                question: "X√£ ƒë√¥ng nh·∫•t l√† x√£ n√†o?",
                answer: "X√£ h·ªôi."
            },
            {
                question: "Khi Beckham th·ª±c hi·ªán qu·∫£ ƒë√° ph·∫°t ƒë·ªÅn, anh ta s·∫Ω s√∫t v√†o ƒë√¢u?",
                answer: "Tr√°i banh."
            },
            {
                question: "C√≥ 1 anh ch√†ng l√†m vi·ªác trong 1 t√≤a nh√† 50 t·∫ßng, nh∆∞ng anh ta l·∫°i ch·ªâ ƒëi thang m√°y l√™n ƒë·∫øn t·∫ßng 35 r·ªìi ƒëo·∫°n c√≤n l·∫°i anh ta ƒëi thang b·ªô. T·∫°i sao anh ta l·∫°i l√†m nh∆∞ v·∫≠y ?",
                answer: "V√¨ c√°i thang m√°y ƒë√≥ kh√¥ng l√™n ƒë∆∞·ª£c t·ªõi t·∫ßng 50."
            },
            {
                question: "L·ªãch n√†o d√†i nh·∫•t?",
                answer: "L·ªãch s·ª≠."
            },
            {
                question: "C√°i g√¨ ng∆∞·ªùi mua bi·∫øt, ng∆∞·ªùi b√°n bi·∫øt, ng∆∞·ªùi x√†i kh√¥ng bao gi·ªù bi·∫øt?",
                answer: "Quan t√†i."
            },
            {
                question: "L√†m sao ƒë·ªÉ c√°i c√¢n t·ª± c√¢n ch√≠nh n√≥?",
                answer: "L·∫≠t ng∆∞·ª£c c√°i c√¢n l·∫°i."
            },
            {
                question: "Con trai c√≥ g√¨ qu√Ω nh·∫•t?",
                answer: "Ng·ªçc trai."
            },
            {
                question: "·ªû ƒë√¢u 30 ng∆∞·ªùi ƒë√†n √¥ng v√† 2 ng∆∞·ªùi ƒë√†n b√† ƒë√°nh nhau t√°n lo·∫°n?",
                answer: "Tr√™n b√†n c·ªù vua"
            },
            {
                question: "B·∫°n c√≥ th·ªÉ k·ªÉ ra ba ng√†y li√™n ti·∫øp m√† kh√¥ng c√≥ t√™n l√† th·ª© hai, th·ª© ba, th·ª© t∆∞, th·ª© nƒÉm, th·ª© s√°u, th·ª© b·∫£y, ch·ªß nh·∫≠t?",
                answer: "H√¥m qua, h√¥m nay v√† ng√†y mai."
            },
            {
                question: "C√≥ bao nhi√™u ch·ªØ C trong c√¢u sau ƒë√¢y: ‚ÄúC∆°m, canh, ch√°o g√¨ t·ªõ c≈©ng th√≠ch ƒÉn!‚Äù",
                answer: "1 ch·ªØ C, ·ªü ch·ªØ ‚ÄúC∆°m‚Äù."
            },
            {
                question: "C√°i g√¨ ƒëen khi b·∫°n mua n√≥, ƒë·ªè khi d√πng n√≥ v√† x√°m x·ªãt khi v·ª©t n√≥ ƒëi?",
                answer: "Than."
            },
            {
                question: "Con g√¨ kh√¥ng g√°y √≤ √≥ o m√† ng∆∞·ªùi ta v·∫´n g·ªçi l√† g√†?",
                answer: "G√† con v√† g√† m√°i."
            },
            {
                question: "C√≥ m·ªôt c√¢y c·∫ßu c√≥ tr·ªçng t·∫£i l√† 10 t·∫•n, c√≥ nghƒ©a l√† n·∫øu v∆∞·ª£t qu√° tr·ªçng t·∫£i tr√™n 10 t·∫•n th√¨ c√¢y c·∫ßu s·∫Ω s·∫≠p... V·∫≠y ƒë·ªë c√°c b·∫°n l√†m sao b√°c t√†i qua ƒë∆∞·ª£c c√¢y c·∫ßu n√†y (Kh√¥ng ƒë∆∞·ª£c b·ªõt h√†ng ra kh·ªèi xe)?",
                answer: "B√°c t√†i c·ª© ƒëi qua th√¥i, c√≤n xe th√¨ ·ªü l·∫°i."
            },
            {
                question: "C√°i g√¨ con g√°i c√≥, ph·ª• n·ªØ c√≥ ch·ªìng th√¨ m·∫•t?",
                answer: "T·ª± do"
            },
            {
                question: "Con ƒë∆∞·ªùng d√†i nh·∫•t l√† ƒë∆∞·ªùng n√†o?",
                answer: "ƒê∆∞·ªùng ƒë·ªùi."
            },
            {
                question: "T·ª´ n√†o trong ti·∫øng vi·ªát c√≥ 9 ch·ªØ h?",
                answer: "Ch√≠nh."
            },
            {
                question: "C∆° quan quan tr·ªçng nh·∫•t c·ªßa ph·ª• n·ªØ l√† g√¨ ?",
                answer: "H·ªôi Li√™n Hi·ªáp Ph·ª• N·ªØ."
            },
            {
                question: "B·ªánh g√¨ b√°c s·ªπ b√≥ tay?",
                answer: "ƒê√≥ l√† b·ªánh‚Ä¶ g√£y tay!"
            },
            {
                question: "2 con v·ªãt ƒëi tr∆∞·ªõc 2 con v·ªãt, 2 con v·ªãt ƒëi sau 2 con v·ªãt, 2 con v·ªãt ƒëi gi·ªØa 2 con v·ªãt. H·ªèi c√≥ m·∫•y con v·ªãt?",
                answer: "4 con v·ªãt."
            },
        ];

        let currentQuestionIndex = 0;
        let isAnswerVisible = false;

        const quizCard = document.getElementById('quizCard');
        const mainTextEl = document.getElementById('mainText');
        const answerSectionEl = document.getElementById('answerSection');
        const answerTextEl = document.getElementById('answerText');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtnMobile = document.getElementById('nextBtnMobile');
        const prevBtnMobile = document.getElementById('prevBtnMobile');
        const completionMessage = document.getElementById('completionMessage');
        const restartBtn = document.getElementById('restartBtn');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');

        // H√†m hi·ªÉn th·ªã c√¢u h·ªèi hi·ªán t·∫°i
        function renderQuestion() {
            // Hi·ªÉn th·ªã thanh ti·∫øn tr√¨nh
            progressBar.classList.remove('hidden');

            // ·∫®n th√¥ng b√°o ho√†n th√†nh n·∫øu ƒëang hi·ªÉn th·ªã
            completionMessage.classList.add('hidden');
            quizCard.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
            prevBtn.classList.remove('hidden');
            nextBtnMobile.classList.remove('hidden');
            prevBtnMobile.classList.remove('hidden');

            const currentItem = quizData[currentQuestionIndex];
            
            // Lu√¥n hi·ªÉn th·ªã c√¢u h·ªèi ban ƒë·∫ßu
            mainTextEl.textContent = currentItem.question;
            
            // C·∫≠p nh·∫≠t thanh ti·∫øn tr√¨nh (Ch·ªâ thay ƒë·ªïi khi chuy·ªÉn c√¢u h·ªèi)
            const progress = (currentQuestionIndex / quizData.length) * 100;
            progressFill.style.width = `${progress}%`;

            // ·∫®n ƒë√°p √°n v√† class animation
            answerSectionEl.classList.add('hidden');
            answerSectionEl.classList.remove('visible'); 
            mainTextEl.classList.remove('text-gray-500'); 
            quizCard.classList.remove('card-flipped');
            isAnswerVisible = false;

            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t Prev/Next
            updateNavigationButtons();
            
            // Th√™m hi·ªáu ·ª©ng xu·∫•t hi·ªán Card m·ªõi
            quizCard.classList.remove('card-animate');
            // Force reflow/repaint ƒë·ªÉ k√≠ch ho·∫°t l·∫°i animation
            void quizCard.offsetWidth; 
            quizCard.classList.add('card-animate');
        }

        // H√†m chuy·ªÉn ƒë·ªïi hi·ªÉn th·ªã ƒë√°p √°n
        function toggleAnswer() {
            if (currentQuestionIndex >= quizData.length) return; // Kh√¥ng l√†m g√¨ n·∫øu ƒë√£ ho√†n th√†nh

            isAnswerVisible = !isAnswerVisible;
            const currentItem = quizData[currentQuestionIndex];
            
            if (isAnswerVisible) {
                // Hi·ªÉn th·ªã ƒë√°p √°n (k√≠ch ho·∫°t fadeUp CSS animation)
                answerTextEl.textContent = currentItem.answer;
                answerSectionEl.classList.remove('hidden');
                answerSectionEl.classList.add('visible'); // K√≠ch ho·∫°t animation
                mainTextEl.classList.add('text-gray-500'); // L√†m m·ªù c√¢u h·ªèi
                quizCard.classList.add('card-flipped'); // Th√™m hi·ªáu ·ª©ng l·∫≠t
            } else {
                // ·∫®n ƒë√°p √°n (ch·ªâ x·∫£y ra khi click l·∫°i)
                answerSectionEl.classList.add('hidden');
                answerSectionEl.classList.remove('visible'); // X√≥a class animation
                mainTextEl.classList.remove('text-gray-500');
                quizCard.classList.remove('card-flipped');
            }
        }

        // H√†m chuy·ªÉn sang c√¢u h·ªèi ti·∫øp theo
        function nextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                setTimeout(renderQuestion, 200); // ƒê·ª£i chuy·ªÉn c·∫£nh 1 ch√∫t
            } else if (currentQuestionIndex === quizData.length - 1) {
                // ƒê√£ h·∫øt c√¢u h·ªèi
                showCompletion();
            }
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ngay l·∫≠p t·ª©c ƒë·ªÉ ng∆∞·ªùi d√πng th·∫•y thay ƒë·ªïi
            updateNavigationButtons(); 
        }

        // H√†m quay l·∫°i c√¢u h·ªèi tr∆∞·ªõc
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                setTimeout(renderQuestion, 200); // ƒê·ª£i chuy·ªÉn c·∫£nh 1 ch√∫t
            }
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ngay l·∫≠p t·ª©c ƒë·ªÉ ng∆∞·ªùi d√πng th·∫•y thay ƒë·ªïi
            updateNavigationButtons();
        }

        // H√†m c·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t ƒëi·ªÅu h∆∞·ªõng
        function updateNavigationButtons() {
            // N√∫t Prev
            const isDisabledPrev = currentQuestionIndex === 0;
            prevBtn.disabled = isDisabledPrev;
            prevBtnMobile.disabled = isDisabledPrev;

            // N√∫t Next
            // V√¥ hi·ªáu h√≥a n√∫t Next n·∫øu ƒë√£ ·ªü trang ho√†n th√†nh (index = length)
            const isDisabledNext = currentQuestionIndex >= quizData.length;
            nextBtn.disabled = isDisabledNext;
            nextBtnMobile.disabled = isDisabledNext;
        }

        // H√†m hi·ªÉn th·ªã th√¥ng b√°o ho√†n th√†nh (N√¢ng c·∫•p Confetti)
        function showCompletion() {
            // ƒê·∫£m b·∫£o thanh ti·∫øn tr√¨nh ƒë·∫°t 100% tr∆∞·ªõc khi ·∫©n
            progressFill.style.width = '100%';
            
            // ·∫®n c√°c y·∫øu t·ªë game
            quizCard.classList.add('hidden');
            nextBtn.classList.add('hidden');
            prevBtn.classList.add('hidden');
            nextBtnMobile.classList.add('hidden');
            prevBtnMobile.classList.add('hidden');
            progressBar.classList.add('hidden'); 
            
            completionMessage.classList.remove('hidden');
            currentQuestionIndex = quizData.length; // ƒê√°nh d·∫•u ƒë√£ ho√†n th√†nh
            updateNavigationButtons();
            
            // N√¢ng c·∫•p: Ch·∫°y Confetti 3 ƒë·ª£t li√™n ti·∫øp
            if (typeof confetti !== 'undefined') {
                const fire = (particleRatio, opts) => {
                    confetti({
                        ...opts,
                        origin: { y: 0.7 },
                        particleCount: Math.floor(250 * particleRatio),
                        spread: 260,
                        ticks: 500,
                        angle: 60 + (Math.random() * 60)
                    });
                }
                
                // ƒê·ª£t 1
                fire(0.25, {
                    spread: 26,
                    startVelocity: 55,
                });
                // ƒê·ª£t 2
                setTimeout(() => {
                    fire(0.35, {
                        spread: 60,
                        startVelocity: 55,
                    });
                }, 100);
                // ƒê·ª£t 3
                setTimeout(() => {
                    fire(0.4, {
                        spread: 120,
                        startVelocity: 45,
                        scalar: 0.9,
                        shapes: ['circle', 'square', 'star'],
                    });
                }, 200);
            }
        }

        // H√†m ch∆°i l·∫°i
        function restartGame() {
            currentQuestionIndex = 0;
            // ƒê·∫∑t l·∫°i thanh ti·∫øn tr√¨nh v·ªÅ 0%
            progressFill.style.width = '0%';
            renderQuestion();
        }

        // G·∫Øn s·ª± ki·ªán cho c√°c n√∫t
        nextBtn.addEventListener('click', nextQuestion);
        nextBtnMobile.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        prevBtnMobile.addEventListener('click', prevQuestion);
        restartBtn.addEventListener('click', restartGame);

        // Kh·ªüi t·∫°o game khi t·∫£i trang
        window.onload = renderQuestion;
    </script>
</body>
</html>

